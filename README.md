# NixOS

My NixOS configuration.

## Structure

- **`modules/`** - Individual configuration units for specific tools and applications (e.g., git, zsh, hyprland).

- **`bundles/`** - Collections of related home-level modules to help make importing easier. Bundles are imported within the `home.nix` file of each profile. Modules that need to be imported at a system level are instead included in the appropriate `base/` file.

- **`base/`** - System-level configuration layers that contain system settings as well as system-level modules.

- **`profiles/`** - Complete machine templates combining system configuration from `base/` with user configuration from `bundles/`.

- **`hosts/`** - Hardware-specific configurations generated by `nixos-generate-config` for each physical machine. Each folder is a hostname for a different physical machine.

## Installation

Clone this repo, then create a symlink inside `/etc/nixos`

```sh
sudo rm -rf /etc/nixos
sudo ln -s ~/repos/nixos /etc/nixos
```

## Building

To rebuild and switch to the current configuration, use the easiest way is with the provided `ns` command:

```sh
ns
```

You can also use `ns <hostname>` to switch to a different profile (e.g., `ns t490`).

However, on a new machine that hasn't been set up yet, you'll need to use `nixos-rebuild` directly:

```sh
sudo nixos-rebuild switch --flake /etc/nixos#<hostname>
```
